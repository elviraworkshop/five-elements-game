<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>äº”è¡Œæ­¸é¡éŠæˆ²</title>
<style>
  body {
    font-family: "Noto Serif TC", serif;
    text-align: center;
    background-color: #fdf6ec;
    margin: 0;
    padding: 0;
    font-size: 20px;
  }
  .page { display: none; padding: 20px; }
  .active { display: block; }
  h1 { color: #b22222; font-size: 2.2em; }
  h2 { font-size: 1.8em; color: #8b1a1a; }
  p { font-size: 1.2em; }
  button {
    background: #b22222;
    color: #fff;
    border: none;
    padding: 12px 30px;
    font-size: 1.1em;
    border-radius: 8px;
    cursor: pointer;
    margin-top: 15px;
  }
  button:hover { background: #8b1a1a; }
  #dropBox {
    width: 80%;
    margin: 20px auto;
    min-height: 150px;
    border: 3px dashed #b22222;
    border-radius: 10px;
    background: rgba(255,255,255,0.9);
    padding: 15px;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    font-size: 1.1em;
  }
  .answer {
    display: inline-block;
    padding: 10px 16px;
    margin: 8px;
    background-color: #e0d4b7;
    border-radius: 8px;
    cursor: grab;
    user-select: none;
    transition: background .3s, transform .3s;
    font-size: 1.1em;
  }
  .answer.dragging { opacity: 0.5; }
  .answer.correct { background-color: #6fc36f !important; color: #fff; }
  .answer.wrong { background-color: #e45b5b !important; color:#fff; }
  #answersArea {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    margin: 10px auto;
    max-width: 600px;
  }
  #scoreValue {
    font-size: 2em;
    color: #b22222;
  }
</style>
</head>
<body>

<!-- ğŸ  Start Page -->
<div id="start" class="page active">
  <h1>äº”è¡Œæ­¸é¡éŠæˆ²</h1>
  <img src="image1" alt="å°é¢åœ–ç‰‡" style="width:80%;max-width:300px;border-radius:10px;">
  <p>è«‹æ ¹æ“šé¡Œç›®ï¼Œå°‡æ­£ç¢ºç­”æ¡ˆæ‹–æ›³è‡³æ¡†ä¸­ã€‚<br>
  é»æ“Šæ¡†å…§ç­”æ¡ˆå¯ç§»é™¤ï¼Œç§»é™¤å¾Œç­”æ¡ˆæœƒå›åˆ°ä¸‹æ–¹ã€‚</p>
  <button id="startBtn">é–‹å§‹éŠæˆ²</button>
</div>

<!-- ğŸ¯ Game Page -->
<div id="game" class="page">
  <h2 id="questionTitle">é¡Œç›®ï¼š</h2>
  <p style="color:#555;font-size:1em;">ğŸ’¡ æç¤ºï¼šæ‹–æ›³ç­”æ¡ˆé€²æ¡†å…§ï¼›é»æ“Šæ¡†å…§é …ç›®å¯ç§»é™¤</p>
  <div id="dropBox">æ‹–æ›³æ­£ç¢ºç­”æ¡ˆåˆ°é€™è£¡</div>
  <div id="answersArea"></div>
  <button id="confirmBtn">ç¢ºå®š</button>
</div>

<!-- ğŸ Score Page -->
<div id="score" class="page">
  <h2>éŠæˆ²çµæŸï¼</h2>
  <p>ä½ çš„ç¸½å¾—åˆ†ï¼š</p>
  <div id="scoreValue">0</div>
  <button id="restartBtn">é‡æ–°é–‹å§‹</button>
</div>

<script>
// === é¡Œåº« ===
const questionBank = [
  { q:"äº”è¡ŒåŒ…æ‹¬ï¼Ÿ", a:["æœ¨","ç«","åœŸ","é‡‘","æ°´"] },
  { q:"æƒ…å¿—åŒ…æ‹¬ï¼Ÿ", a:["æ•","å–„","æ€","æ‚²","æ"] },
  { q:"äº”è¯åŒ…æ‹¬ï¼Ÿ", a:["çˆª","é¢","å”‡","æ¯›","é«®"] },
  { q:"äº”ä¸»åŒ…æ‹¬ï¼Ÿ", a:["ç­‹","è„ˆ","è‚‰","çš®","éª¨"] },
  { q:"äº”å®˜åŒ…æ‹¬ï¼Ÿ", a:["ç›®","èˆŒ","å£","é¼»","è€³"] },
  { q:"äº”è…‘åŒ…æ‹¬ï¼Ÿ", a:["è†½","å°è…¸","èƒƒ","å¤§è…¸","è†€èƒ±"] },
  { q:"äº”è‡ŸåŒ…æ‹¬ï¼Ÿ", a:["è‚","å¿ƒ","è„¾","è‚º","è…"] },
  { q:"äº”å­£åŒ…æ‹¬ï¼Ÿ", a:["æ˜¥","å¤","é•·å¤","ç§‹","å†¬"] },
  { q:"äº”è‰²åŒ…æ‹¬ï¼Ÿ", a:["é’","èµ¤","é»„","ç™½","é»‘"] },
  { q:"äº”å‘³åŒ…æ‹¬ï¼Ÿ", a:["é…¸","è‹¦","ç”˜","è¾›","é¹¹"] },
  { q:"èˆ‡ã€Œé…¸ã€å°æ‡‰ï¼Ÿ", a:["é’","æ˜¥","æœ¨","è‚","è†½","ç›®","ç­‹","çˆª","æ€’"] },
  { q:"èˆ‡ã€Œè‹¦ã€å°æ‡‰ï¼Ÿ", a:["èµ¤","å¤","ç«","å¿ƒ","å°è…¸","èˆŒ","è„ˆ","é¢","å–œ"] },
  { q:"èˆ‡ã€Œç”˜ã€å°æ‡‰ï¼Ÿ", a:["é»„","é•·å¤","åœŸ","è„¾","èƒƒ","å£","è‚‰","å”‡","æ€"] },
  { q:"èˆ‡ã€Œè¾›ã€å°æ‡‰ï¼Ÿ", a:["ç™½","ç§‹","é‡‘","è‚º","å¤§è…¸","é¼»","çš®","æ¯›","æ‚²"] },
  { q:"èˆ‡ã€Œé¹¹ã€å°æ‡‰ï¼Ÿ", a:["é»‘","å†¬","æ°´","è…","è†€èƒ±","è€³","éª¨","é«®","æ"] },
  { q:"èˆ‡ã€Œé’ã€å°æ‡‰ï¼Ÿ", a:["é…¸","æ˜¥","æœ¨","è‚","è†½","ç›®","ç­‹","çˆª","æ€’"] },
  { q:"èˆ‡ã€Œèµ¤ã€å°æ‡‰ï¼Ÿ", a:["è‹¦","å¤","ç«","å¿ƒ","å°è…¸","èˆŒ","è„ˆ","é¢","å–œ"] },
  { q:"èˆ‡ã€Œé»„ã€å°æ‡‰ï¼Ÿ", a:["ç”˜","é•·å¤","åœŸ","è„¾","èƒƒ","å£","è‚‰","å”‡","æ€"] },
  { q:"èˆ‡ã€Œç™½ã€å°æ‡‰ï¼Ÿ", a:["è¾›","ç§‹","é‡‘","è‚º","å¤§è…¸","é¼»","çš®","æ¯›","æ‚²"] },
  { q:"èˆ‡ã€Œé»‘ã€å°æ‡‰ï¼Ÿ", a:["é¹¹","å†¬","æ°´","è…","è†€èƒ±","è€³","éª¨","é«®","æ"] },
  { q:"èˆ‡ã€Œæ˜¥ã€å°æ‡‰ï¼Ÿ", a:["é…¸","é’","æœ¨","è‚","è†½","ç›®","ç­‹","çˆª","æ€’"] },
  { q:"èˆ‡ã€Œå¤ã€å°æ‡‰ï¼Ÿ", a:["è‹¦","èµ¤","ç«","å¿ƒ","å°è…¸","èˆŒ","è„ˆ","é¢","å–œ"] },
  { q:"èˆ‡ã€Œé•·å¤ã€å°æ‡‰ï¼Ÿ", a:["ç”˜","é»„","åœŸ","è„¾","èƒƒ","å£","è‚‰","å”‡","æ€"] },
  { q:"èˆ‡ã€Œç§‹ã€å°æ‡‰ï¼Ÿ", a:["è¾›","ç™½","é‡‘","è‚º","å¤§è…¸","é¼»","çš®","æ¯›","æ‚²"] },
  { q:"èˆ‡ã€Œå†¬ã€å°æ‡‰ï¼Ÿ", a:["é¹¹","é»‘","æ°´","è…","è†€èƒ±","è€³","éª¨","é«®","æ"] },
  { q:"èˆ‡ã€Œæœ¨ã€å°æ‡‰ï¼Ÿ", a:["é…¸","é’","æ˜¥","è‚","è†½","ç›®","ç­‹","çˆª","æ€’"] },
  { q:"èˆ‡ã€Œç«ã€å°æ‡‰ï¼Ÿ", a:["è‹¦","èµ¤","å¤","å¿ƒ","å°è…¸","èˆŒ","è„ˆ","é¢","å–œ"] },
  { q:"èˆ‡ã€ŒåœŸã€å°æ‡‰ï¼Ÿ", a:["ç”˜","é»„","é•·å¤","è„¾","èƒƒ","å£","è‚‰","å”‡","æ€"] },
  { q:"èˆ‡ã€Œé‡‘ã€å°æ‡‰ï¼Ÿ", a:["è¾›","ç™½","ç§‹","è‚º","å¤§è…¸","é¼»","çš®","æ¯›","æ‚²"] },
  { q:"èˆ‡ã€Œæ°´ã€å°æ‡‰ï¼Ÿ", a:["é¹¹","é»‘","å†¬","è…","è†€èƒ±","è€³","éª¨","é«®","æ"] },
  { q:"èˆ‡ã€Œè‚ã€å°æ‡‰ï¼Ÿ", a:["é…¸","é’","æ˜¥","æœ¨","è†½","ç›®","ç­‹","çˆª","æ€’"] },
  { q:"èˆ‡ã€Œå¿ƒã€å°æ‡‰ï¼Ÿ", a:["è‹¦","èµ¤","å¤","ç«","å°è…¸","èˆŒ","è„ˆ","é¢","å–œ"] },
  { q:"èˆ‡ã€Œè„¾ã€å°æ‡‰ï¼Ÿ", a:["ç”˜","é»„","é•·å¤","åœŸ","èƒƒ","å£","è‚‰","å”‡","æ€"] },
  { q:"èˆ‡ã€Œè‚ºã€å°æ‡‰ï¼Ÿ", a:["è¾›","ç™½","ç§‹","é‡‘","å¤§è…¸","é¼»","çš®","æ¯›","æ‚²"] },
  { q:"èˆ‡ã€Œè…ã€å°æ‡‰ï¼Ÿ", a:["é¹¹","é»‘","å†¬","æ°´","è†€èƒ±","è€³","éª¨","é«®","æ"] },
  { q:"èˆ‡ã€Œè†½ã€å°æ‡‰ï¼Ÿ", a:["é…¸","é’","æ˜¥","æœ¨","è‚","ç›®","ç­‹","çˆª","æ€’"] },
  { q:"èˆ‡ã€Œå°è…¸ã€å°æ‡‰ï¼Ÿ", a:["è‹¦","èµ¤","å¤","ç«","å¿ƒ","èˆŒ","è„ˆ","é¢","å–œ"] },
  { q:"èˆ‡ã€Œèƒƒã€å°æ‡‰ï¼Ÿ", a:["ç”˜","é»„","é•·å¤","åœŸ","è„¾","å£","è‚‰","å”‡","æ€"] },
  { q:"èˆ‡ã€Œå¤§è…¸ã€å°æ‡‰ï¼Ÿ", a:["è¾›","ç™½","ç§‹","é‡‘","è‚º","é¼»","çš®","æ¯›","æ‚²"] },
  { q:"èˆ‡ã€Œè†€èƒ±ã€å°æ‡‰ï¼Ÿ", a:["é¹¹","é»‘","å†¬","æ°´","è…","è€³","éª¨","é«®","æ"] },
  { q:"èˆ‡ã€Œç›®ã€å°æ‡‰ï¼Ÿ", a:["é…¸","é’","æ˜¥","æœ¨","è‚","è†½","ç­‹","çˆª","æ€’"] },
  { q:"èˆ‡ã€ŒèˆŒã€å°æ‡‰ï¼Ÿ", a:["è‹¦","èµ¤","å¤","ç«","å¿ƒ","å°è…¸","è„ˆ","é¢","å–œ"] },
  { q:"èˆ‡ã€Œå£ã€å°æ‡‰ï¼Ÿ", a:["ç”˜","é»„","é•·å¤","åœŸ","è„¾","èƒƒ","è‚‰","å”‡","æ€"] },
  { q:"èˆ‡ã€Œé¼»ã€å°æ‡‰ï¼Ÿ", a:["è¾›","ç™½","ç§‹","é‡‘","è‚º","å¤§è…¸","çš®","æ¯›","æ‚²"] },
  { q:"èˆ‡ã€Œè€³ã€å°æ‡‰ï¼Ÿ", a:["é¹¹","é»‘","å†¬","æ°´","è…","è†€èƒ±","éª¨","é«®","æ"] },
  { q:"èˆ‡ã€Œç­‹ã€å°æ‡‰ï¼Ÿ", a:["é…¸","é’","æ˜¥","æœ¨","è‚","è†½","ç›®","çˆª","æ€’"] },
  { q:"èˆ‡ã€Œè„ˆã€å°æ‡‰ï¼Ÿ", a:["è‹¦","èµ¤","å¤","ç«","å¿ƒ","å°è…¸","èˆŒ","é¢","å–œ"] },
  { q:"èˆ‡ã€Œè‚‰ã€å°æ‡‰ï¼Ÿ", a:["ç”˜","é»„","é•·å¤","åœŸ","è„¾","èƒƒ","å£","å”‡","æ€"] },
  { q:"èˆ‡ã€Œçš®ã€å°æ‡‰ï¼Ÿ", a:["è¾›","ç™½","ç§‹","é‡‘","è‚º","å¤§è…¸","é¼»","æ¯›","æ‚²"] },
  { q:"èˆ‡ã€Œéª¨ã€å°æ‡‰ï¼Ÿ", a:["é¹¹","é»‘","å†¬","æ°´","è…","è†€èƒ±","è€³","é«®","æ"] },
  { q:"èˆ‡ã€Œçˆªã€å°æ‡‰ï¼Ÿ", a:["é…¸","é’","æ˜¥","æœ¨","è‚","è†½","ç›®","ç­‹","æ€’"] },
  { q:"èˆ‡ã€Œé¢ã€å°æ‡‰ï¼Ÿ", a:["è‹¦","èµ¤","å¤","ç«","å¿ƒ","å°è…¸","èˆŒ","è„ˆ","å–œ"] },
  { q:"èˆ‡ã€Œå”‡ã€å°æ‡‰ï¼Ÿ", a:["ç”˜","é»„","é•·å¤","åœŸ","è„¾","èƒƒ","å£","è‚‰","æ€"] },
  { q:"èˆ‡ã€Œæ¯›ã€å°æ‡‰ï¼Ÿ", a:["è¾›","ç™½","ç§‹","é‡‘","è‚º","å¤§è…¸","é¼»","çš®","æ‚²"] },
  { q:"èˆ‡ã€Œé«®ã€å°æ‡‰ï¼Ÿ", a:["é¹¹","é»‘","å†¬","æ°´","è…","è†€èƒ±","è€³","éª¨","æ"] },
  { q:"èˆ‡ã€Œæ€’ã€å°æ‡‰ï¼Ÿ", a:["é…¸","é’","æ˜¥","æœ¨","è‚","è†½","ç›®","ç­‹","çˆª"] },
  { q:"èˆ‡ã€Œå–œã€å°æ‡‰ï¼Ÿ", a:["è‹¦","èµ¤","å¤","ç«","å¿ƒ","å°è…¸","èˆŒ","è„ˆ","é¢"] },
  { q:"èˆ‡ã€Œæ€ã€å°æ‡‰ï¼Ÿ", a:["ç”˜","é»„","é•·å¤","åœŸ","è„¾","èƒƒ","å£","è‚‰","å”‡"] },
  { q:"èˆ‡ã€Œæ‚²ã€å°æ‡‰ï¼Ÿ", a:["è¾›","ç™½","ç§‹","é‡‘","è‚º","å¤§è…¸","é¼»","çš®","æ¯›"] },
  { q:"èˆ‡ã€Œæã€å°æ‡‰ï¼Ÿ", a:["é¹¹","é»‘","å†¬","æ°´","è…","è†€èƒ±","è€³","éª¨","é«®"] }
];

// === ç‹€æ…‹ ===
let currentQuestions = [];
let currentIndex = 0;
let score = 0;

// === éš¨æ©Ÿé¸é¡Œ ===
function getRandomQuestions() {
  const shuffled = [...questionBank].sort(()=>Math.random()-0.5);
  return shuffled.slice(0,5);
}

// === é¡¯ç¤ºé é¢ ===
function showPage(id){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

// === è¼‰å…¥é¡Œç›® ===
function loadQuestion(){
  const qObj = currentQuestions[currentIndex];
  document.getElementById('questionTitle').innerText = "é¡Œç›® "+(currentIndex+1)+"ï¼š"+qObj.q;

  const dropBox = document.getElementById('dropBox');
  const answersArea = document.getElementById('answersArea');
  dropBox.innerHTML = "æ‹–æ›³æ­£ç¢ºç­”æ¡ˆåˆ°é€™è£¡";
  answersArea.innerHTML = "";

  const allPossibleAnswers = [...new Set(questionBank.flatMap(q=>q.a))];
  let options = [...qObj.a];
  while(options.length < 25){
    const r = allPossibleAnswers[Math.floor(Math.random()*allPossibleAnswers.length)];
    if(!options.includes(r)) options.push(r);
  }
  options.sort(()=>Math.random()-0.5);

  options.forEach(ans=>{
    const el = document.createElement('div');
    el.className = 'answer';
    el.innerText = ans;
    el.draggable = true;

    el.addEventListener('dragstart', e=>{
      e.dataTransfer.setData('text/plain', ans);
      e.target.classList.add('dragging');
    });
    el.addEventListener('dragend', e=>e.target.classList.remove('dragging'));

    answersArea.appendChild(el);
  });

  dropBox.addEventListener('dragover', e=>e.preventDefault());
  dropBox.addEventListener('drop', e=>{
    e.preventDefault();
    const data = e.dataTransfer.getData('text/plain');
    const answers = document.querySelectorAll('#answersArea .answer');
    const targetAns = [...answers].find(a=>a.innerText === data);
    if (!targetAns || [...dropBox.children].some(el=>el.innerText===data)) return;

    targetAns.style.display = "none";

    const newItem = document.createElement('div');
    newItem.className = 'answer';
    newItem.innerText = data;
    newItem.addEventListener('click', ()=>{
      dropBox.removeChild(newItem);
      targetAns.style.display = "inline-block";
    });
    dropBox.appendChild(newItem);
  });
}

// === ç¢ºå®šç­”æ¡ˆ ===
function checkAnswer(){
  document.getElementById('confirmBtn').disabled = true;
  const dropBox = document.getElementById('dropBox');
  const dropped = [...dropBox.children].map(el=>el.innerText);
  const correct = currentQuestions[currentIndex].a;

  // è¨ˆç®—å–®ä¸€æ­£ç¢ºç­”æ¡ˆåˆ†æ•¸
  [...dropBox.children].forEach(el=>{
    if(correct.includes(el.innerText)){
      el.classList.add('correct');
      score += 1; // æ¯å€‹æ­£ç¢ºç­”æ¡ˆåŠ ä¸€åˆ†
    } else {
      el.classList.add('wrong');
    }
  });

  // é¡¯ç¤ºæ­£ç¢ºç­”æ¡ˆæç¤º
  [...document.querySelectorAll('#answersArea .answer')].forEach(el=>{
    if(correct.includes(el.innerText)) el.classList.add('correct');
  });

  setTimeout(()=>{
    document.getElementById('confirmBtn').disabled = false;
    currentIndex++;
    if(currentIndex < currentQuestions.length){
      loadQuestion();
    } else {
      showScore();
    }
  }, 3000);
}

// === é¡¯ç¤ºåˆ†æ•¸ ===
function showScore(){
  showPage("score");
  document.getElementById('scoreValue').innerText = score + " åˆ†";
}

// === äº‹ä»¶ ===
document.getElementById('startBtn').onclick = ()=>{
  score = 0;
  currentQuestions = getRandomQuestions();
  currentIndex = 0;
  showPage("game");
  loadQuestion();
};
document.getElementById('confirmBtn').onclick = checkAnswer;
document.getElementById('restartBtn').onclick = ()=>showPage("start");
</script>
</body>
</html>